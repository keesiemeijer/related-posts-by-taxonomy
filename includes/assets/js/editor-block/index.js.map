{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/classnames/index.js","webpack:///./src/components/RestRequest.js","webpack:///./src/components/image-panel.js","webpack:///./src/components/post-type-control.js","webpack:///./src/components/posts-panel.js","webpack:///./src/data/data.js","webpack:///./src/data/options.js","webpack:///./src/edit.js","webpack:///./src/index.js","webpack:///external {\"this\":[\"wp\",\"apiFetch\"]}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///external {\"this\":[\"wp\",\"blocks\"]}","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"compose\"]}","webpack:///external {\"this\":[\"wp\",\"data\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"url\"]}","webpack:///external {\"this\":\"lodash\"}"],"names":["rendererPath","postID","attributes","urlQueryArgs","queryArgs","gallery_format","is_editor","addQueryArgs","RestRequest","props","state","response","isStillMounted","fetch","debounce","prevProps","isEqual","setState","path","fetchRequest","currentFetchRequest","apiFetch","then","rendered","catch","error","errorMsg","message","className","EmptyResponsePlaceholder","ErrorResponsePlaceholder","LoadingResponsePlaceholder","Component","defaultProps","__","errorMessage","sprintf","imageOptions","getOptions","ImagePanel","imageSize","onImageSizeChange","columns","onColumnsChange","value","getPostTypeObjects","checkedPostTypes","postTypeOjects","postTypes","getPluginData","key","hasOwnProperty","push","post_type","label","checked","indexOf","PostTypeControl","arguments","items","split","index","newItems","slice","filter","item","map","obj","onChange","join","help","instanceId","id","describedBy","inPluginData","isEmpty","option","bind","undefined","withInstanceId","taxonomyOptions","getTaxonomyOptions","formatOptions","orderOptions","PostsPanel","taxonomies","onTaxonomiesChange","postsPerPage","onPostsPerPageChange","format","onFormatChange","showDate","onShowDateChange","onPostTypesChange","order","onOrderChange","options","_pluginData","window","km_rpbt_plugin_data","_defaults","post_types","type","formats","image_sizes","default_tax","default_category","preview","default","html5_gallery","show_date","hasData","object","isObject","isUndefined","defaultValue","getDefault","data","dataType","get","isType","types","string","keyValue","keyDefault","is_type","getBool","isBoolean","isString","bool","Number","trim","typeOptions","instances","RelatedPostsBlock","previewExpanded","html5Gallery","defaultCategory","updatePostTypes","onTitleChange","titleDebounced","updateTitle","toggleLinkCaption","createToggleAttribute","toggleShowDate","toggleImageCrop","propName","setAttributes","cancel","e","target","title","postType","termIDs","taxonomyNames","posts_per_page","image_size","link_caption","fields","image_crop","titleID","classnames","restAttributes","Object","assign","length","inspectorControls","newValue","getImageCropHelp","compose","withSelect","select","getCurrentPostId","getCurrentPostType","registeredTaxonomies","getTaxonomies","postTaxonomies","taxonomy","includes","slug","terms","getEditedPostAttribute","rest_base","isArray","console","log","getBlockTypes","registerRelatedPostsBlock","registerBlockType","icon","category","description","supports","html","customClassName","edit","save"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,wC;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACNA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8B;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;ACfA;AACA;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,0B;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;;AAEA,iC;;;;;;;;;;;ACPA,qBAAqB,mBAAO,CAAC,iFAAkB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,2B;;;;;;;;;;;ACjBA;AACA;AACA;;AAEA,kC;;;;;;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * External dependencies.\n */\nimport { isEqual, debounce } from 'lodash';\n\n/**\n * WordPress dependencies.\n */\nimport {  Component, RawHTML  } from '@wordpress/element';\nimport { Placeholder, Spinner } from '@wordpress/components';\nimport {  __, sprintf  } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport {  addQueryArgs  } from '@wordpress/url';\n\nexport function rendererPath( postID, attributes = null, urlQueryArgs = {} ) {\n\tlet queryArgs = ( null !== attributes ) ? attributes : {};\n\n\t// Defaults\n\tqueryArgs.gallery_format = 'editor_block';\n\tqueryArgs.is_editor = true;\n\n\treturn addQueryArgs( `/related-posts-by-taxonomy/v1/posts/${ postID }`, {\t\t\n\t\t...queryArgs,\n\t\t...urlQueryArgs,\n\t} );\n}\n\nexport class RestRequest extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\tresponse: null,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.isStillMounted = true;\n\t\tthis.fetch( this.props );\n\t\t// Only debounce once the initial fetch occurs to ensure that the first\n\t\t// renders show data as soon as possible.\n\t\tthis.fetch = debounce( this.fetch, 500 );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.isStillMounted = false;\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( ! isEqual( prevProps.attributes, this.props.attributes ) ) {\n\t\t\tthis.fetch( this.props );\n\t\t}\n\t}\n\n\tfetch( props ) {\n\t\tif ( ! this.isStillMounted ) {\n\t\t\treturn;\n\t\t}\n\t\tif ( null !== this.state.response ) {\n\t\t\tthis.setState( { response: null } );\n\t\t}\n\n\t\tconst { postID, attributes = null, urlQueryArgs = {} } = props;\n\n\t\tconst path = rendererPath( postID, attributes, urlQueryArgs );\n\n\t\t// Store the latest fetch request so that when we process it, we can\n\t\t// check if it is the current request, to avoid race conditions on slow networks.\n\t\tconst fetchRequest = this.currentFetchRequest = apiFetch( { path } )\n\t\t\t.then( ( response ) => {\n\t\t\t\tif ( this.isStillMounted && fetchRequest === this.currentFetchRequest && response ) {\n\t\t\t\t\tthis.setState( { response: response.rendered } );\n\t\t\t\t}\n\t\t\t} )\n\t\t\t.catch( ( error ) => {\n\t\t\t\tif ( this.isStillMounted && fetchRequest === this.currentFetchRequest ) {\n\t\t\t\t\tthis.setState( { response: {\n\t\t\t\t\t\terror: true,\n\t\t\t\t\t\terrorMsg: error.message,\n\t\t\t\t\t} } );\n\t\t\t\t}\n\t\t\t} );\n\t\treturn fetchRequest;\n\t}\n\n\trender() {\n\t\tconst response = this.state.response;\n\t\tconst { className, EmptyResponsePlaceholder, ErrorResponsePlaceholder, LoadingResponsePlaceholder } = this.props;\n\n\t\tif ( response === '' ) {\n\t\t\treturn (\n\t\t\t\t<EmptyResponsePlaceholder response={ response } { ...this.props } />\n\t\t\t);\n\t\t} else if ( ! response ) {\n\t\t\treturn (\n\t\t\t\t<LoadingResponsePlaceholder response={ response } { ...this.props } />\n\t\t\t);\n\t\t} else if ( response.error ) {\n\t\t\treturn (\n\t\t\t\t<ErrorResponsePlaceholder response={ response } { ...this.props } />\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<RawHTML\n\t\t\t\tkey=\"html\"\n\t\t\t\tclassName={ className }\n\t\t\t>\n\t\t\t\t{ response }\n\t\t\t</RawHTML>\n\t\t);\n\t}\n}\n\nRestRequest.defaultProps = {\n\tEmptyResponsePlaceholder: ( { className } ) => (\n\t\t<Placeholder\n\t\t\tclassName={ className }\n\t\t>\n\t\t\t{ __('No posts found with the current block settings', 'related-posts-by-taxonomy') }\n\t\t</Placeholder>\n\t),\n\tErrorResponsePlaceholder: ( { response, className } ) => {\n\t\t// translators: %s: error message describing the problem\n\t\tconst errorMessage = sprintf( __( 'Error loading block: %s' ), response.errorMsg );\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tclassName={ className }\n\t\t\t>\n\t\t\t\t{ errorMessage }\n\t\t\t</Placeholder>\n\t\t);\n\t},\n\tLoadingResponsePlaceholder: ( { className } ) => {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tclassName={ className }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Placeholder>\n\t\t);\n\t},\n};\n\nexport default RestRequest;\n","/**\n * WordPress dependencies\n */\nimport {  __  } from '@wordpress/i18n';\nimport {  SelectControl, RangeControl  } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { getPluginData } from '../data/data';\nimport { getOptions } from '../data/options';\n\n// Select input options\nconst imageOptions = getOptions('image_sizes');\n\nexport default function ImagePanel( {\n\timageSize,\n\tonImageSizeChange,\n\tcolumns,\n\tonColumnsChange\n} ) {\n\n\treturn [\n\t\tonImageSizeChange && (\n\t\t\t<SelectControl\n\t\t\t\tkey=\"rpbt-select-image-size\"\n\t\t\t\tlabel={ __( 'Image Size' ) }\n\t\t\t\tvalue={ `${ imageSize }` }\n\t\t\t\toptions={  imageOptions }\n\t\t\t\tonChange={ ( value ) => { onImageSizeChange( value ); } }\n\t\t\t/> ),\n\t\tonColumnsChange && (\n\t\t\t<RangeControl\n\t\t\t\tkey=\"rpbt-range-columns\"\n\t\t\t\tlabel={ __( 'Image Columns' ) }\n\t\t\t\tvalue={ columns }\n\t\t\t\tonChange={ onColumnsChange }\n\t\t\t\tmin={ 0 }\n\t\t\t\tmax={ 20 }\n\t\t\t/> ),\n\t];\n}\n","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {  BaseControl  } from '@wordpress/components';\nimport {  withInstanceId  } from '@wordpress/compose';\nimport {  Component  } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { getPluginData, inPluginData } from '../data/data';\n\nfunction getPostTypeObjects( checkedPostTypes = [] ) {\n\tlet postTypeOjects = [];\n\n\tconst postTypes = getPluginData( 'post_types' );\n\tfor (var key in postTypes) {\n\t\tif ( ! postTypes.hasOwnProperty( key ) ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tpostTypeOjects.push({\n\t\t\tpost_type: key,\n\t\t\tlabel: postTypes[key],\n\t\t\tchecked: ( -1 !== checkedPostTypes.indexOf( key ) ),\n\t\t});\n\t}\n\n\treturn postTypeOjects;\n}\n\nclass PostTypeControl extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tconst { postTypes } = this.props;\n\n\t\t// Set the state with post type objects.\n\t\tthis.state = {\n\t\t\titems: getPostTypeObjects( postTypes.split(\",\") ),\n\t\t}\n\t}\n\n\tonChange( index ) {\n\t\t// Update the state.\n\t\tlet newItems = this.state.items.slice();\n\t\tnewItems[index].checked = !newItems[index].checked\n\t\tthis.setState({\n\t\t\titems: newItems\n\t\t});\n\n\t\tconst checked = this.state.items.filter( item => item.checked );\n\t\tconst postTypes = checked.map( (obj) => obj.post_type );\n\n\t\tif ( this.props.onChange ) {\n\t\t\tthis.props.onChange( postTypes.join(',') );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { label, help, instanceId, postTypes  } = this.props;\n\t\tconst id = 'inspector-multi-checkbox-control-' + instanceId;\n\n\t\tlet describedBy;\n\t\tif ( help ) {\n\t\t\tdescribedBy = id + '__help';\n\t\t}\n\n\t\tlet checked = postTypes.split(\",\");\n\t\tchecked = checked.filter( item => inPluginData( 'post_types', item ) );\n\n\t\treturn ! isEmpty( this.state.items ) && (\n\t\t\t<BaseControl label={ label } id={ id } help={ help } className=\"blocks-checkbox-control\">\n\t\t\t\t{ this.state.items.map( ( option, index ) =>\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={ ( id + '-' + index ) }\n\t\t\t\t\t\tclassName=\"blocks-checkbox-control__option\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={ ( id + '-' + index ) }\n\t\t\t\t\t\t\tclassName=\"blocks-checkbox-control__input\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tname={ id + '-' + index}\n\t\t\t\t\t\t\tvalue={ option.post_type }\n\t\t\t\t\t\t\tonChange={this.onChange.bind(this, index)}\n\t\t\t\t\t\t\tchecked={ ! ( checked.indexOf( option.post_type ) === -1 ) }\n\t\t\t\t\t\t\taria-describedby={ !! help ? id + '__help' : undefined }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label key={ option.post_type } htmlFor={ ( id + '-' + index ) }>\n\t\t\t\t\t\t\t{ option.label }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</BaseControl>\n\t\t);\n\t}\n}\n\nexport default withInstanceId( PostTypeControl );\n","/**\n * WordPress dependencies\n */\nimport {  __  } from '@wordpress/i18n';\nimport {  SelectControl, RangeControl, ToggleControl  } from '@wordpress/components';\n\n\n/**\n * Internal dependencies\n */\nimport { getPluginData } from '../data/data';\nimport { getOptions } from '../data/options';\nimport PostTypeControl from '../components/post-type-control';\n\n// Select input options\nconst taxonomyOptions = getTaxonomyOptions();\nconst formatOptions = getOptions('formats');\nconst orderOptions = getOptions('order');\n\nexport default function PostsPanel({\n\ttaxonomies,\n\tonTaxonomiesChange,\n\tpostsPerPage,\n\tonPostsPerPageChange,\n\tformat,\n\tonFormatChange,\n\tshowDate,\n\tonShowDateChange,\n\tpostTypes,\n\tonPostTypesChange,\n\torder,\n\tonOrderChange,\n}) {\n\n\treturn [\n\t\tonPostsPerPageChange && (\n\t\t\t<RangeControl\n\t\t\t\tkey=\"rpbt-range-posts-per-page\"\n\t\t\t\tlabel={ __( 'Number of items' ) }\n\t\t\t\tvalue={ postsPerPage }\n\t\t\t\tonChange={ onPostsPerPageChange }\n\t\t\t\tmin={ -1 }\n\t\t\t\tmax={ 100 }\n\t\t\t/>),\n\t\tonTaxonomiesChange && (\n\t\t\t<SelectControl\n\t\t\t\tkey=\"rpbt-select-taxonomies\"\n\t\t\t\tlabel={ __( 'Taxonomies' ) }\n\t\t\t\tvalue={ `${ taxonomies }` }\n\t\t\t\toptions={ taxonomyOptions }\n\t\t\t\tonChange={ ( value ) => { onTaxonomiesChange( value ); } }\n\t\t\t/>),\n\t\tonPostTypesChange && (\n\t\t\t<PostTypeControl\n\t\t\t\tlabel={ __( 'Post Types' ) }\n\t\t\t\tonChange={ onPostTypesChange }\n\t\t\t\tpostTypes={ postTypes }\n\t\t\t/>),\n\t\tonOrderChange && (\n\t\t\t<SelectControl\n\t\t\t\tkey=\"rpbt-select-order\"\n\t\t\t\tlabel={ __( 'Order posts' ) }\n\t\t\t\tvalue={ `${ order }` }\n\t\t\t\toptions={  orderOptions }\n\t\t\t\tonChange={ ( value ) => { onOrderChange( value ); } }\n\t\t\t/>),\n\t\tonFormatChange && (\n\t\t\t<SelectControl\n\t\t\t\tkey=\"rpbt-select-format\"\n\t\t\t\tlabel={ __( 'Format' ) }\n\t\t\t\tvalue={ `${ format }` }\n\t\t\t\toptions={  formatOptions }\n\t\t\t\tonChange={ ( value ) => { onFormatChange( value ); } }\n\t\t\t/>),\n\t\tonShowDateChange && (\n\t\t\t<ToggleControl\n\t\t\t\tlabel={ __( 'Display post date' ) }\n\t\t\t\tchecked={ showDate }\n\t\t\t\tonChange={ onShowDateChange }\n\t\t\t/>\n\t\t),\n\t];\n}\n\nfunction getTaxonomyOptions() {\n\tconst options = [{\n\t\tlabel: __('all taxonomies'),\n\t\tvalue: 'km_rpbt_all_tax',\n\t}, ];\n\n\treturn getOptions('taxonomies', options);\n}","/**\n * External dependencies\n */\nimport { isUndefined, isObject, isBoolean, isString, get } from 'lodash';\n\n/**\n * Don't use _pluginData directly, use getPluginData()\n */\nexport const _pluginData = window.km_rpbt_plugin_data || {};\n\nconst _defaults = {\n\tpost_types: { type: 'object' },\n\ttaxonomies: { type: 'object' },\n\tformats: { type: 'object' },\n\torder: { type: 'object' },\n\timage_sizes: { type: 'object' },\n\tdefault_tax: { type: 'string' },\n\tdefault_category: { type: 'string' },\n\tpreview: {\n\t\ttype: 'bool',\n\t\tdefault: true, /* default required for booleans */\n\t},\n\thtml5_gallery: {\n\t\ttype: 'bool',\n\t\tdefault: false,\n\t},\n\tshow_date: {\n\t\ttype: 'bool',\n\t\tdefault: false,\n\t}\n}\n\n/**\n * Check if a property key exists and has a value.\n * \n * @param  {string} key Property to check.\n * @return {[type]}     Returns true if it exists\n */\nexport function hasData( object, key ) {\n\tif( isObject( object ) && object.hasOwnProperty( key ) ) {\n\t\treturn ! isUndefined( object[ key ]);\n\t}\n\treturn false;\n}\n\n/**\n * Check if a value exists in a plugin data property.\n * \n * @param  {string} key  Plugin data key.\n * @param  {string} value Value to test.\n * @return {bool}   True if value exists.\n */\nexport function inPluginData( key, value ) {\n\treturn hasData( getPluginData( key ), value );\n}\n\n/**\n * Get data provided by this plugin.\n *\n * Only returns data if it's the correct type.\n * Else returns empty value of the correct type.\n * \n * @param  {string} key Property key in the plugin data.\n * @return {[type]}     Plugin data.\n */\nexport function getPluginData( key ) {\n\tconst defaultValue = getDefault( key );\n\n\tif( ! hasData( _pluginData, key ) || isUndefined( defaultValue ) ) {\n\t\treturn defaultValue;\n\t}\n\n\tconst data = _pluginData[ key ];\n\tconst dataType = get( _defaults, key + '.type' );\n\n\treturn isType( dataType , data ) ? data : defaultValue;\n}\n\n/**\n * Get the default value for a setting.\n *\n * Booleans should always provide a default value.\n * If no default is provided an empty value with \n * the correct type is returned.\n * \n * @param  {string} key Plugin data property key.\n * @return {object|string|bool} Default value.\n */\nfunction getDefault( key ) {\n\t// Types to check. Booleans should have a default.\n\tconst types = {\n\t\tobject: {},\n\t\tstring: '', \n\t}\n\n\tconst keyValue = get( _defaults, key + '.default' );\n\tconst keyDefault = get( types, get( _defaults, key + '.type' ) );\n\n\treturn ! isUndefined( keyValue ) ? keyValue : keyDefault;\n}\n\n/**\n * Check if a value has the correct type.\n *\n * @param  {string}             type  Type of value. Accepts 'bool', 'object' and 'string'.\n * @param  {bool|object|string} value Value.\n * @return {Boolean} True if the value is of the correct type.\n */\nfunction isType( type, value ) {\n\tlet is_type = false;\n\tswitch ( type ) {\n\t\tcase 'bool':\n\t\t\tvalue = getBool( value );\n\t\t\tis_type = isBoolean( value );\n\t\tbreak;\n\t\tcase 'object':\n\t\t\tis_type = isObject( value );\n\t\tbreak;\n\t\tcase 'string':\n\t\t\tis_type = isString( value );\n\t\tbreak;\n\t}\n\n\treturn is_type;\n}\n\n/**\n * Get a boolean value from a string.\n *\n * wp_localize_script converts booleans to a string ('1' or '').\n *\n * @param  {string} value String with boolean value.\n * @return {bool} Boolean value if string is '1' or empty.\n */\nfunction getBool( value ) {\n\tif( ! isString( value ) ) {\n\t\treturn value;\n\t}\n\tconst bool = Number( value.trim() );\n\treturn ( 1 === bool || 0 === bool ) ? ( 1 === bool ) : value;\n}","/**\n * Internal dependencies\n */\nimport { getPluginData } from './data';\n\nexport function getOptions(type, options = []) {\n\tconst typeOptions = getPluginData( type );\n\tfor ( var key in typeOptions ) {\n\t\tif ( typeOptions.hasOwnProperty( key ) ) {\n\t\t\toptions.push({\n\t\t\t\tlabel: typeOptions[ key ],\n\t\t\t\tvalue: key,\n\t\t\t});\n\t\t}\n\t}\n\n\treturn options;\n}","/**\n * External dependencies\n */\nimport { isUndefined, debounce, filter, includes, isArray } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { BaseControl, PanelBody, ToggleControl, ServerSideRender, Disabled } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n\n/**\n * Internal dependencies\n */\nimport { getPluginData } from './data/data';\nimport PostsPanel from './components/posts-panel';\nimport ImagePanel from './components/image-panel';\nimport RestRequest from './components/RestRequest';\n\nlet instances = 0;\n\nexport class RelatedPostsBlock extends Component {\n\tconstructor() {\n\t\tsuper(...arguments);\n\n\t\t// Data provided by this plugin.\n\t\tthis.previewExpanded = getPluginData('preview');\n\t\tthis.html5Gallery = getPluginData('html5_gallery');\n\t\tthis.defaultCategory = getPluginData('default_category');\n\n\t\tthis.updatePostTypes = this.updatePostTypes.bind(this);\n\n\t\t// The title is updated 1 second after a change.\n\t\t// This allows the user more time to type.\n\t\tthis.onTitleChange = this.onTitleChange.bind(this);\n\t\tthis.titleDebounced = debounce(this.updateTitle, 1000);\n\n\t\tthis.toggleLinkCaption = this.createToggleAttribute('link_caption');\n\t\tthis.toggleShowDate = this.createToggleAttribute('show_date');\n\t\tthis.toggleImageCrop = this.createToggleAttribute('image_crop');\n\n\t\tthis.instanceId = instances++;\n\t}\n\n\tcreateToggleAttribute(propName) {\n\t\treturn () => {\n\t\t\tconst value = this.props.attributes[propName];\n\t\t\tconst { setAttributes } = this.props;\n\n\t\t\tsetAttributes({\n\t\t\t\t[propName]: !value\n\t\t\t});\n\t\t};\n\t}\n\n\tgetImageCropHelp(checked) {\n\t\treturn checked ? __('Thumbnails are cropped to align.') : __('Thumbnails are not cropped.');\n\t}\n\n\n\tcomponentWillUnmount() {\n\t\tthis.titleDebounced.cancel();\n\t}\n\n\tonTitleChange(e) {\n\t\t// React pools events, so we read the value before debounce.\n\t\t// Alternately we could call `event.persist()` and pass the entire event.\n\t\t// For more info see reactjs.org/docs/events.html#event-pooling\n\t\tthis.titleDebounced(e.target.value);\n\t}\n\n\tupdateTitle(value) {\n\t\tconst { setAttributes } = this.props;\n\t\tsetAttributes({ title: value });\n\t}\n\n\tupdatePostTypes(postTypes) {\n\t\tconst { setAttributes } = this.props;\n\t\tsetAttributes({ post_types: postTypes });\n\t}\n\n\trender() {\n\t\tconst { attributes, setAttributes, postType, postID, termIDs, taxonomyNames } = this.props;\n\t\tconst { title, taxonomies, post_types, posts_per_page, format, image_size, columns, link_caption, show_date, order, fields, image_crop } = attributes;\n\t\tconst titleID = 'inspector-text-control-' + this.instanceId;\n\t\tconst className = classnames(this.props.className, { 'rpbt-html5-gallery': ('thumbnails' === format) && this.html5Gallery });\n\n\t\tif (isUndefined(termIDs) || isUndefined(taxonomyNames)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet restAttributes = Object.assign({}, attributes);\n\t\trestAttributes['post_id'] = postID;\n\t\trestAttributes['include_terms'] = termIDs.join(',');\n\n\t\tif (!restAttributes['include_terms'].length && (-1 !== taxonomyNames.indexOf('category'))) {\n\t\t\t// Use default category if this post supports the 'category' taxonomy and no terms are selected.\n\t\t\trestAttributes['include_terms'] = this.defaultCategory;\n\t\t}\n\n\t\tlet checkedPostTypes = post_types;\n\t\tif (isUndefined(post_types) || !post_types) {\n\t\t\t// Use the post type from the current post if not set.\n\t\t\tcheckedPostTypes = postType;\n\t\t}\n\n\t\tconst inspectorControls = (\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Related Posts Settings' ) }>\n\t\t\t\t\t<div className={this.props.className + '-inspector-controls'}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t{ __( 'Note: The preview style is not the actual style used in the front end of your site.' ) }\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<BaseControl label={ __( 'Title'  ) } id={titleID}>\n\t\t\t\t\t\t\t<input className=\"components-text-control__input\"\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tonChange={this.onTitleChange}\n\t\t\t\t\t\t\t\tdefaultValue={title}\n\t\t\t\t\t\t\t\tid={titleID}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t\t<PostsPanel\n\t\t\t\t\t\t\tpostsPerPage={posts_per_page}\n\t\t\t\t\t\t\tonPostsPerPageChange={ ( value ) => {\n\t\t\t\t\t\t\t\t\t// Don't allow 0 as a value.\n\t\t\t\t\t\t\t\t\tconst newValue = ( 0 === Number( value ) ) ? 1 : value;\n\t\t\t\t\t\t\t\t\tsetAttributes( { posts_per_page: Number( newValue ) } );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttaxonomies={ taxonomies }\n\t\t\t\t\t\t\tonTaxonomiesChange={ ( value ) => setAttributes( { taxonomies: value } ) }\n\t\t\t\t\t\t\tformat={ format }\n\t\t\t\t\t\t\tonFormatChange={ ( value ) => setAttributes( { format: value } ) }\n\t\t\t\t\t\t\torder={ order }\n\t\t\t\t\t\t\tonOrderChange={ ( value ) => setAttributes( { order: value } ) }\n\t\t\t\t\t\t\tshowDate={show_date}\n\t\t\t\t\t\t\tonShowDateChange={ this.toggleShowDate }\n\t\t\t\t\t\t\tpostTypes={ checkedPostTypes }\n\t\t\t\t\t\t\tonPostTypesChange={ this.updatePostTypes }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody title={ __( 'Image Settings' ) }>\n\t\t\t\t\t<ImagePanel\n\t\t\t\t\t\timageSize={image_size}\n\t\t\t\t\t\tonImageSizeChange={ ( value ) => setAttributes( { image_size: value } ) }\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tonColumnsChange={ ( value ) => setAttributes( { columns: Number( value ) } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Crop Images' ) }\n\t\t\t\t\t\t\tchecked={ image_crop }\n\t\t\t\t\t\t\tonChange={ this.toggleImageCrop }\n\t\t\t\t\t\t\thelp={ this.getImageCropHelp }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( ' Link image captions to posts' ) }\n\t\t\t\t\t\tchecked={ link_caption }\n\t\t\t\t\t\tonChange={ this.toggleLinkCaption }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t);\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t{inspectorControls}\n\t\t\t\t\t<div className={className}>\n\t\t\t\t\t<RestRequest\n\t\t\t\t\t\tblock=\"related-posts-by-taxonomy/related-posts-block\"\n\t\t\t\t\t\tpostID={postID}\n\t\t\t\t\t\tattributes={ restAttributes }\n\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect((select, props) => {\n\t\treturn {\n\t\t\tpostID: select('core/editor').getCurrentPostId(),\n\t\t\tpostType: select('core/editor').getCurrentPostType(),\n\t\t\tregisteredTaxonomies: select('core').getTaxonomies(),\n\t\t};\n\t}),\n\n\twithSelect((select, props) => {\n\t\tif (!props.registeredTaxonomies || !props.postType || !props.postID) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst termIDs = [];\n\t\tconst taxonomyNames = [];\n\n\t\tconst taxonomies = props.registeredTaxonomies;\n\t\tconst postTaxonomies = filter(taxonomies, (taxonomy) => includes(taxonomy.types, props.postType));\n\n\t\tpostTaxonomies.map((taxonomy) => {\n\t\t\ttaxonomyNames.push(taxonomy.slug);\n\n\t\t\tconst terms = select('core/editor').getEditedPostAttribute(taxonomy.rest_base);\n\t\t\tif (isArray(terms)) {\n\t\t\t\ttermIDs.push(...terms);\n\t\t\t}\n\t\t});\n\n\t\treturn {\n\t\t\ttaxonomyNames: taxonomyNames,\n\t\t\ttermIDs: termIDs,\n\t\t};\n\t})\n)(RelatedPostsBlock)","/**\n * External dependencies\n */\nimport { isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport {  __  } from '@wordpress/i18n';\nimport {  registerBlockType, getBlockTypes  } from '@wordpress/blocks';\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport { _pluginData } from './data/data';\n\nconsole.log('cooor', getBlockTypes());\n\nif (!isEmpty(_pluginData)) {\n\tregisterRelatedPostsBlock();\n}\n\nfunction registerRelatedPostsBlock() {\n\n\tregisterBlockType('related-posts-by-taxonomy/related-posts-block', {\n\t\ttitle: __('Related Posts by Taxonomy'),\n\t\ticon: 'megaphone',\n\t\tcategory: 'widgets',\n\t\tdescription: __('This block displays related posts by taxonomy.'),\n\t\tsupports: {\n\t\t\thtml: false,\n\t\t\tcustomClassName: false,\n\t\t},\n\t\tedit: edit,\n\t\tsave() {\n\t\t\t// Rendering in PHP\n\t\t\treturn null;\n\t\t}\n\t});\n}","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"lodash\"]; }());"],"sourceRoot":""}